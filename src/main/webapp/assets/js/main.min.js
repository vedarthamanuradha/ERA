"use strict";var Main=function(){var e=$("html"),t=$(window),a=$(".app-aside"),s={},o=$("#app");s={desktopXL:1200,desktop:992,tablet:768,mobile:480},$(".current-year").text((new Date).getFullYear());var i=function(){var s,o,i,n=e.hasClass("touch")?"click":"mouseenter",r=$("#sidebar"),h="",f=$(".sidebar-mobile-toggler"),u=0,g=0;r.on("click","a",function(e){o=$(this),(!l()||d()||o.closest("ul").hasClass("sub-menu"))&&(o.closest("ul").find(".open").not(".active").children("ul").not(o.next()).slideUp(200).parent(".open").removeClass("open"),o.next().is("ul")&&o.parent().toggleClass("open")&&(o.next().slideToggle(200,function(){t.trigger("resize")}),e.stopPropagation(),e.preventDefault()))}),r.on(n,"a",function(e){if(l()&&!d()&&!(o=$(this)).parent().hasClass("hover")&&!o.closest("ul").hasClass("sub-menu")){c(),o.parent().addClass("hover"),s=o.find(".item-inner").clone(),o.parent().hasClass("active")&&s.addClass("active");var i=$("#sidebar").position().top,n=p()?o.parent().position().top+i:o.parent().position().top;if(s.css({position:p()?"fixed":"absolute",height:o.outerHeight(),top:n}).appendTo(a),!o.next().is("ul"))return void(h="");(h=o.next().clone(!0)).appendTo(a).css({top:n+o.outerHeight(),position:p()?"fixed":"absolute"}),o.parent().position().top+o.outerHeight()+i+h.height()>t.height()&&p()?h.css("bottom",0):h.css("bottom","auto"),a.children().first().scroll(function(){p()&&c()}),setTimeout(function(){a.is(":empty")||$(document).on("click tap",c)},300)}}),a.on("mouseleave",function(e){$(document).off("click tap",c),$(".hover",a).removeClass("hover"),$("> .item-inner",a).remove(),$("> ul",a).remove()}),f.on("click",function(){g=u,$("#app").hasClass("app-slide-off")||$("#app").hasClass("app-offsidebar-open")?m():(u=t.scrollTop(),g=0,$("footer").hide(),i=$("#app .main-content").innerWidth(),$("#app .main-content").css({position:"absolute",top:-u,width:i}))}),$(document).on("mousedown touchstart",function(e){0!==r.has(e.target).length||r.is(e.target)||f.is(e.target)||!$("#app").hasClass("app-slide-off")&&!$("#app").hasClass("app-offsidebar-open")||m()});var m=function(){g=u,$("#app .app-content").one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){$("#app").hasClass("app-slide-off")||$("#app").hasClass("app-offsidebar-open")||($("#app .main-content").css({position:"relative",top:"auto",width:"auto"}),window.scrollTo(0,g),$("footer").show(),$("#app .app-content").off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"))})}},n=function(){var e=$(".navbar-collapse > .nav"),a=t.innerHeight()-$("header").outerHeight(),s=$("#menu-toggler");d()?e.css({height:a}):e.css({height:"auto"}),$(document).on("mousedown touchstart",function(t){0===e.has(t.target).length&&!e.is(t.target)&&e.parent().hasClass("collapse in")&&s.trigger("click")})},r=function(e,a,o){$(window).resize(function(){n(),t.width()>=s.desktop&&($("#app .main-content").css({position:"relative",top:"auto",width:"auto"}),$("footer").show())})};function c(){a.trigger("mouseleave")}function d(){return t.width()<s.desktop}function l(){return $(".app-sidebar-closed").length}function p(){return $(".app-sidebar-fixed").length}function h(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}return{init:function(){var e,t,s,c;!function(){var e,t={};function a(e){switch(e){case"theme-2":case"theme-3":case"theme-5":case"theme-6":$(".navbar-brand img").attr("src","assets/images/logo2.png");break;default:$(".navbar-brand img").attr("src","assets/images/logo.png")}}e={fixedHeader:!0,fixedSidebar:!0,closedSidebar:!1,fixedFooter:!1,theme:"theme-1"},(t=Cookies.get("clip-setting")?$.parseJSON(Cookies.get("clip-setting")):e).fixedHeader?o.addClass("app-navbar-fixed"):o.removeClass("app-navbar-fixed"),t.fixedSidebar?o.addClass("app-sidebar-fixed"):o.removeClass("app-sidebar-fixed"),t.closedSidebar?o.addClass("app-sidebar-closed"):o.removeClass("app-sidebar-closed"),t.fixedFooter?o.addClass("app-footer-fixed"):o.removeClass("app-footer-fixed"),o.hasClass("app-navbar-fixed")?$("#fixed-header").prop("checked",!0):$("#fixed-header").prop("checked",!1),o.hasClass("app-sidebar-fixed")?$("#fixed-sidebar").prop("checked",!0):$("#fixed-sidebar").prop("checked",!1),o.hasClass("app-sidebar-closed")?$("#closed-sidebar").prop("checked",!0):$("#closed-sidebar").prop("checked",!1),o.hasClass("app-footer-fixed")?$("#fixed-footer").prop("checked",!0):$("#fixed-footer").prop("checked",!1),$("#skin_color").attr("href","assets/css/themes/"+t.theme+".min.css"),$('input[name="setting-theme"]').each(function(){$(this).val()==t.theme?$(this).prop("checked",!0):$(this).prop("checked",!1)}),a(t.theme),$('input[name="setting-theme"]').change(function(){var e=$(this).val();$("#skin_color").attr("href","assets/css/themes/"+e+".min.css"),a(e),t.theme=e,Cookies.set("clip-setting",JSON.stringify(t))}),$("#fixed-header").change(function(){$(this).is(":checked")?o.addClass("app-navbar-fixed"):o.removeClass("app-navbar-fixed"),t.fixedHeader=$(this).is(":checked"),Cookies.set("clip-setting",JSON.stringify(t))}),$("#fixed-sidebar").change(function(){$(this).is(":checked")?o.addClass("app-sidebar-fixed"):o.removeClass("app-sidebar-fixed"),t.fixedSidebar=$(this).is(":checked"),Cookies.set("clip-setting",JSON.stringify(t))}),$("#closed-sidebar").change(function(){$(this).is(":checked")?o.addClass("app-sidebar-closed"):o.removeClass("app-sidebar-closed"),t.closedSidebar=$(this).is(":checked"),Cookies.set("clip-setting",JSON.stringify(t))}),$("#fixed-footer").change(function(){$(this).is(":checked")?o.addClass("app-footer-fixed"):o.removeClass("app-footer-fixed"),t.fixedFooter=$(this).is(":checked"),Cookies.set("clip-setting",JSON.stringify(t))})}(),i(),(e=$("*[data-toggle-class]")).each(function(){var t,a,s=$(this),o=s.attr("data-toggle-class");a=void 0!==s.attr("data-toggle-target")?$(s.attr("data-toggle-target")):s,s.on("click",function(e){"undefined"!==s.attr("data-toggle-type")&&"on"==s.attr("data-toggle-type")?a.addClass(o):"undefined"!==s.attr("data-toggle-type")&&"off"==s.attr("data-toggle-type")?a.removeClass(o):a.toggleClass(o),e.preventDefault(),s.attr("data-toggle-click-outside")&&(t=$(s.attr("data-toggle-click-outside")),$(document).on("mousedown touchstart",i));var n=s.attr("data-parent-tab"),r=s.attr("data-tab");"undefined"!==n&&"undefined"!==n&&$(n+' a[href="'+r+'"]').tab("show")});var i=function(s){0!==t.has(s.target).length||t.is(s.target)||e.is(s.target)||!a.hasClass(o)||(a.removeClass(o),$(document).off("mousedown touchstart",i))}}),n(),function(){var e=$(".search-form"),t=e.children("form");e.parent();$(".s-open").on("click",function(e){t.prependTo(a),e.preventDefault(),$(document).on("mousedown touchstart",s)}),$(".s-remove").on("click",function(a){t.appendTo(e),a.preventDefault()});var s=function(e){t.is(e.target)||0!==t.has(e.target).length||($(".s-remove").trigger("click"),$(document).off("mousedown touchstart",s))}}(),$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),(t=$(".perfect-scrollbar")).each(function(){if(!h()&&t.length){var e=new PerfectScrollbar($(this)[0],{suppressScrollX:!0});t.on("mousemove",function(){e.update()})}}),r(),$(".show-tab").length&&$(".show-tab").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),a=$(this).attr("data-parent-tab");$(t).length&&$(a+' a[href="'+t+'"]').tab("show")}),(s=$(".panel-scroll")).each(function(){s.length&&!h()&&new PerfectScrollbar($(this)[0],{suppressScrollX:!0})}),$("body").on("click",".panel-close",function(e){var t,a=$(this).closest(".panel");t=a.parent(),a.fadeOut(300,function(){$(this).remove(),t.is('[class*="col-"]')&&0===t.children("*").length&&t.remove()}),e.preventDefault()}),$("body").on("click",".panel-refresh",function(e){var t=$(this),a="csspinner",s=t.parents(".panel").eq(0),o=t.data("spinner")||"load1";s.addClass(a+" "+o),window.setTimeout(function(){s.removeClass(a)},1e3),e.preventDefault()}),$("body").on("click",".panel-collapse",function(e){e.preventDefault(),$(this);var t=$(this).closest(".panel");t.children(".panel-body").slideToggle(200,function(){t.toggleClass("collapses")})}),[].slice.call(document.querySelectorAll("select.cs-select")).forEach(function(e){new SelectFx(e)}),$(".go-top").on("click",function(e){$("html, body").animate({scrollTop:0},"slow"),e.preventDefault()}),""==(c=window.location.href.substr(window.location.href.lastIndexOf("/")+1))&&(c="index.html"),$(".main-navigation-menu li a").each(function(){$(this).attr("href")!=c&&""!=$(this).attr("href")||($(this).closest("ul").hasClass("sub-menu")?$(this).parent().addClass("active open").closest("ul").parent().addClass("active open"):$(this).parent().addClass("active open"))})}}}();